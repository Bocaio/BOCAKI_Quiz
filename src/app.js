const questionsForLevelOne = [
    {
        question : `which one is the smallest continent?`,
        answers : [{
            answer : `Australia`,
            condition : true,
        },
        {
            answer : `Pacific`,
            condition : false,
        },
        {
            answer : `Asia`,
            condition : false,
        },
        {
            answer : `Europe`,
            condition : false,
        }
    ]
    },
    {
        question : `Which one is the inventor of the light bulb?`,
        answers : [{
            answer : `Einstein`,
            condition : false,
        },
        {
            answer : `A. Graham Bell`,
            condition : false,
        },
        {
            answer : `Edison`,
            condition : true,
        },
        {
            answer : `Tony Stark`,
            condition : false,
        }
    ]
    },
    {
        question : `______ is current century?`,
        answers : [{
            answer : `21st Century`,
            condition : true,
        },
        {
            answer : `20th Century`,
            condition : false,
        },
        {
            answer : `19th Century`,
            condition : false,
        },
        {
            answer : `2023`,
            condition : false,
        }
    ]
    },
    {
        question : `What is the actual color of blood?`,
        answers : [{
            answer : `Green`,
            condition : false,
        },
        {
            answer : `Purple`,
            condition : false,
        },
        {
            answer : `Yellow`,
            condition : false,
        },
        {
            answer : `Red`,
            condition : true,
        }
    ]
    },
    {
        question : `which one of them is largest?`,
        answers : [{
            answer : `UK`,
            condition : false,
        },
        {
            answer : `Myanmar`,
            condition : false,
        },
        {
            answer : `Thailand`,
            condition : false,
        },
        {
            answer : `China`,
            condition : true,
        }
    ]
    }
]

const questionsForLevelTwo = [
    {
        question : `The Biggest continent in the world is _______?`,
        answers : [{
            answer : `China`,
            condition : false,
        },
        {
            answer : `Europe`,
            condition : false,
        },
        {
            answer : `Asia`,
            condition : true,
        },
        {
            answer : `America`,
            condition : false,
        }
    ]
    },
    {
        question : `The largest ocean in the world is ______?`,
        answers : [{
            answer : `Pacific`,
            condition : true,
        },
        {
            answer : `Atlantic`,
            condition : false,
        },
        {
            answer : `India`,
            condition : false,
        },
        {
            answer : `Ayeyarwady`,
            condition : false,
        }
    ]
    },
    {
        question : `Which one is not the member of ASEAN?`,
        answers : [{
            answer : `Indonesia`,
            condition : false,
        },
        {
            answer : `Nepal`,
            condition : false,
        },
        {
            answer : `Thailand`,
            condition : false,
        },
        {
            answer : `Japan`,
            condition : true,
        }
    ]
    },
    {
        question : `Which movie earns the most?`,
        answers : [{
            answer : `Titanic`,
            condition : false,
        },
        {
            answer : `Avengers: Endgame`,
            condition : false,
        },
        {
            answer : `Avatar : The Way of Water`,
            condition : false,
        },
        {
            answer : `Avatar`,
            condition : true,
        }
    ]
    },
    {
        question : `World Cup Champion of 2022`,
        answers : [{
            answer : `England`,
            condition : false,
        },
        {
            answer : `Argentina`,
            condition : true,
        },
        {
            answer : `France`,
            condition : false,
        },
        {
            answer : `Qatar`,
            condition : false,
        }
    ]
    }
]

const questionsForLevelThree = [
    {
        question : `Capital City of USA?`,
        answers : [{
            answer : `New York`,
            condition : false,
        },
        {
            answer : `California`,
            condition : false,
        },
        {
            answer : `Florida`,
            condition : false,
        },
        {
            answer : `Washington DC`,
            condition : true,
        }
    ]
    },
    {
        question : `Which one is burmese actor?`,
        answers : [{
            answer : `G-fatt`,
            condition : false,
        },
        {
            answer : `X-boxin`,
            condition : false,
        },
        {
            answer : `Aung Ye Lin`,
            condition : true,
        },
        {
            answer : `Shwe Htoo`,
            condition : false,
        }
    ]
    },
    {
        question : `Which one is a horror movie?`,
        answers : [{
            answer : `Home Alone`,
            condition : false,
        },
        {
            answer : `Red Notice`,
            condition : false,
        },
        {
            answer : `Peacemaker`,
            condition : false,
        },
        {
            answer : `The Nan`,
            condition : true,
        }
    ]
    },
    {
        question : `Who founded Facebook platform?`,
        answers : [{
            answer : `Elon Musk`,
            condition : false,
        },
        {
            answer : `Mark Zuckerberg`,
            condition : true,
        },
        {
            answer : `Steve Jobs`,
            condition : false,
        },
        {
            answer : `Bill Gates`,
            condition : false,
        }
    ]
    },
    {
        question : `Which one is a rapper?`,
        answers : [{
            answer : `Eminem`,
            condition : true,
        },
        {
            answer : `Ed Sheeran`,
            condition : false,
        },
        {
            answer : `Taylor Swift`,
            condition : false,
        },
        {
            answer : `Bruno Mars`,
            condition : false,
        }
    ]
    },
]

const questionsForLevelFour = [
    {
        question : `The longest river in the world?`,
        answers : [{
            answer : `Ayeyarwady`,
            condition : false,
        },
        {
            answer : `Pacific`,
            condition : false,
        },
        {
            answer : `Nile`,
            condition : true,
        },
        {
            answer : `Amazon`,
            condition : false,
        }
    ]
    },
    {
        question : `UAE is located in ______ continent?`,
        answers : [{
            answer : `America`,
            condition : false,
        },
        {
            answer : `Europe`,
            condition : false,
        },
        {
            answer : `South America`,
            condition : false,
        },
        {
            answer : `Asia`,
            condition : true,
        }
    ]
    },
    {
        question : `Which country does UK stand for?`,
        answers : [{
            answer : `United Kingdom`,
            condition : true,
        },
        {
            answer : `Ukraine`,
            condition : false,
        },
        {
            answer : `American`,
            condition : false,
        },
        {
            answer : `New Zealand`,
            condition : false,
        }
    ]
    },
    {
        question : `Who lost in World War 1?`,
        answers : [{
            answer : `England`,
            condition : false,
        },
        {
            answer : `Russia`,
            condition : false,
        },
        {
            answer : `France`,
            condition : false,
        },
        {
            answer : `Germany`,
            condition : true,
        }
    ]
    },
    {
        question : `Who killed 6 million Jews in World War 2?`,
        answers : [{
            answer : `J. Stalin`,
            condition : false,
        },
        {
            answer : `Hitler`,
            condition : true,
        },
        {
            answer : `Min Aung Hlaig`,
            condition : false,
        },
        {
            answer : `Napoleon`,
            condition : false,
        }
    ]
    },
]

const questionsForLevelFive = [
    {
        question : `Capital City of Singapore`,
        answers : [{
            answer : `Kuala Lumpor`,
            condition : false,
        },
        {
            answer : `Singapore`,
            condition : true,
        },
        {
            answer : `Jakata`,
            condition : false,
        },
        {
            answer : `Bangkok`,
            condition : false,
        }
    ]
    },
    {
        question : `Which city was atomic bombed by US?`,
        answers : [{
            answer : `Tokyo`,
            condition : false,
        },
        {
            answer : `Berlin`,
            condition : false,
        },
        {
            answer : `Hiroshima`,
            condition : false,
        },
        {
            answer : `London`,
            condition : false,
        }
    ]
    },
    {
        question : `what is the name of the Spider-Man in 'Spider-Man : into the Spider-Verse'?`,
        answers : [{
            answer : `Peter Parker`,
            condition : false,
        },
        {
            answer : `Pete`,
            condition : false,
        },
        {
            answer : `Tom Holland`,
            condition : false,
        },
        {
            answer : `Miles Morales`,
            condition : true,
        }
    ]
    },
    {
        question : `The biggest empire of History`,
        answers : [{
            answer : `British Empire`,
            condition : true,
        },
        {
            answer : `Rome Empire`,
            condition : false,
        },
        {
            answer : `Mongol Empire`,
            condition : false,
        },
        {
            answer : `Egypt Empire`,
            condition : false,
        }
    ]
    },
    {
        question : `What does UN stand for?`,
        answers : [{
            answer : `understand Nothing`,
            condition : false,
        },
        {
            answer : `Useless Nations`,
            condition : false,
        },
        {
            answer : `Uv Ray`,
            condition : false,
        },
        {
            answer : `United Nations`,
            condition : true,
        }
    ]
    },
]

const levelForMainPage = [1,2,3,4,5];
let quizIndex = 0;
let quizNumber = 1;
let correctAnswer = 0;



//catchingtheTag 

const mainPage = document.querySelector('#mainPage');
const bodyPage = document.querySelector('#bodyPage');
const copyright = document.querySelector('#copyright');
const divForMainpage = document.querySelector('#divForMainpage');
const nextBTN = document.querySelector('#nextBTN');

const initalizingMainPage = () => {

Array.from(divForMainpage.children).forEach((el,index)=> {
    if(el.innerText == 'Next'){
        // el.remove();
        console.log('fuck');
    }
    else{
        el.remove();
    }
})

    levelForMainPage.forEach((el,index) => {
        const createdLevel = document.createElement('button');
        createdLevel.className = 'h-full border-2 border-black px-5 text-xl bg-gradient-to-r from-slate-600 via-purple-950 to-slate-900 text-white rounded-md';
        createdLevel.id = `buttonForLevel${el}`;
        createdLevel.innerText = `Level ${el}`;
        nextBTN.classList.add('hidden');
        divForMainpage.insertBefore(createdLevel,nextBTN)

        createdLevel.addEventListener('click',(e) => {
            if(index === 0){
                if(quizIndex < questionsForLevelOne.length){
                    mainFun(questionsForLevelOne)
                    questionNextBTN(questionsForLevelOne);
                }
                    else{
                        scoreFun(questionsForLevelOne)
                }
            }
            else if (index === 1){
                // nextBTN.addEventListener('click',questionNextBTN(questionsForLevelTwo))
                if(quizIndex < questionsForLevelTwo.length){
                    questionNextBTN(questionsForLevelTwo);
                    mainFun(questionsForLevelTwo)}
                    else{
                        scoreFun(questionsForLevelTwo)
                    }
            }
            else if(index === 2){
                // nextBTN.addEventListener('click',questionNextBTN(questionsForLevelThree))
                if(quizIndex < questionsForLevelThree.length){
                    questionNextBTN(questionsForLevelThree);
                    mainFun(questionsForLevelThree)}
                    else{
                        scoreFun(questionsForLevelThree)
                    }
            }
            else if(index === 3 ){
                // nextBTN.addEventListener('click',questionNextBTN(questionsForLevelFour))
                if(quizIndex < questionsForLevelThree.length){
                    questionNextBTN(questionsForLevelFour);
                    mainFun(questionsForLevelFour)}
                    else{
                        scoreFun(questionsForLevelFour)
                    }
            }
            else if(index === 4){
                // nextBTN.addEventListener('click',questionNextBTN(questionsForLevelFive))
                if(quizIndex < questionsForLevelThree.length){
                    questionNextBTN(questionsForLevelFive);
                    mainFun(questionsForLevelFive)}
                    else{
                        scoreFun(questionsForLevelFive)
                    }
                }
            })
            
    })
    // bodyPage.insertBefore(divForMainpage,copyright)

}

const mainFun = (arr) => {
    const createdDivForQuiz = document.createElement('div');
    createdDivForQuiz.className = ' w-2/3 rounded-md';
    const currentQuiz = arr[quizIndex];
    const quiz = document.createElement('h1');
    quiz.className = 'text-2xl';
    quiz.innerText = `${quizNumber}. ${currentQuiz.question} `;
    createdDivForQuiz.appendChild(quiz)
    const divForChoices = document.createElement('div');
    createdDivForQuiz.appendChild(divForChoices)
    divForChoices.className = 'flex flex-col px-4 pt-3 gap-3';
    currentQuiz.answers.forEach(el => {
        const choice = document.createElement('button');
        choice.className = 'text-xl text-left rounded pl-1 border-2 border-black';
        choice.innerText = el.answer;
        divForChoices.appendChild(choice);
        if(el.condition){
            choice.dataset.condition = el.condition;
        }
        choice.addEventListener('click',checkAnswer)
    })
    divForMainpage.classList.remove('grid','h-1/4','px-4')
    nextBTN.classList.remove('hidden');
    nextBTN.classList.add('pointer-events-none');
    nextBTN.classList.add('cursor-not-allowed');
    divForMainpage.classList.add('flex','justify-around','flex-col','items-center','w-3/5','border-2','border-black','pt-6','py-5')
    Array.from(divForMainpage.children).forEach((el,index)=> {
        if(el.innerText == 'Next' || el.innerText == 'Home'){
            // el.remove();
            console.log('blahblah');
        }
        else{
            el.remove();
        }
    })
    console.log(quizIndex);
    // divForMainpage.insertBefore(createdDivForQuiz,nextBTN);
    divForMainpage.insertBefore(createdDivForQuiz,nextBTN)
    


}


const checkAnswer =(event) => {
    const clickedChoice = event.target;
    if(clickedChoice.dataset.condition === 'true'){
        clickedChoice.classList.add('bg-green-800','text-white')
        correctAnswer++;
    }
    else{
        clickedChoice.classList.add('bg-red-600')
    }
    // nextBTN.classList.add('mb-2')

    Array.from(divForMainpage.children).forEach((el,index)=> {
        if(index === 0){
            Array.from(el.children).forEach((el,index)=> {
                if(index === 1){
                    Array.from(el.children).forEach((el,index)=> {
                        el.disabled = true;
                        if(el.dataset.condition === 'true'){
                            el.classList.add('bg-green-600')
                        }
                    })
                }
            })
        }
    })
    nextBTN.classList.remove('pointer-events-none','cursor-not-allowed')
    // questionNextBTN(questionsForLevelOne);

    
}

const start = () => {
    initalizingMainPage();
    
}






const scoreFun = (arr) => {
    nextBTN.classList.add('hidden')
    console.log(quizIndex);
    Array.from(divForMainpage.children).forEach((el,index)=> {
        if(el.innerText == 'Next'){
            // el.remove();
            console.log('fuck');
        }
        else{
            el.remove();
        }
    })
    
    const createdDivForScore = document.createElement('div');
    createdDivForScore.className = 'border-2 border-black px-4 py-4 pt-2 w-2/3 rounded-md';
    const statement = document.createElement('h1');
    statement.className = 'text-2xl';
    statement.innerText = `Your Score is ${correctAnswer}/${arr.length}`;
    createdDivForScore.appendChild(statement)
    divForMainpage.insertBefore(createdDivForScore,nextBTN)
    const tryAgain = document.createElement('button');
    tryAgain.className = 'text-white mx-auto w-1/4 bg-gray-800 mt-3 hover:bg-gray-900 rounded-full text-sm h-7';
    tryAgain.innerText = `Home`;
    createdDivForScore.appendChild(tryAgain)
    tryAgain.addEventListener('click',() => {
        quizIndex = 0;
        quizNumber = 1;
        correctAnswer = 0;
        initalizingMainPage();
        
        divForMainpage.classList.remove('flex','justify-around','flex-col','items-center','w-3/5','border-2','border-black','pt-6','py-5')
    divForMainpage.classList.add('grid','h-1/4','px-4')
    
    })
}




const   questionNextBTN = (arr) => {
    nextBTN.addEventListener('click',()=>{
        ++quizIndex;
            ++quizNumber;
        console.log('i am moe yan');
        if(quizIndex < arr.length){
            
            mainFun(arr)
        }
        else{
                        scoreFun(arr)
                }
    })
}

    // nextBTN.addEventListener('click', (level) => {
        // if (quizIndex < questionsForLevelOne.length) {
        //     mainFun(questionsForLevelOne);
        // } else if (quizIndex < questionsForLevelTwo.length) {
        //     mainFun(questionsForLevelTwo);
        // } else if (quizIndex < questionsForLevelThree.length) {
        //     mainFun(questionsForLevelThree);
        // } else if (quizIndex < questionsForLevelFour.length) {
        //     mainFun(questionsForLevelFour);
        // } else if (quizIndex < questionsForLevelFive.length) {
        //     mainFun(questionsForLevelFive);
        // } else {
        //     // Handle when all questions are answered
        //     scoreFun(questionsForLevelFive);
        // }
        // if(level === 1 ){
        //     if(quizIndex < questionsForLevelOne.length){
        //         mainFun(questionsForLevelOne,1)
        //     }
        //     else{
        //      scoreFun(questionsForLevelOne);
        //     }
        // }
        // if(level === 2 ){
        //     if(quizIndex < questionsForLevelTwo.length){
        //         mainFun(questionsForLevelTwo,2)
        //     }
        //     else{
        //         scoreFun(questionsForLevelTwo)
        //     }
        // }
        // if(level === 3 ){
        //     if(quizIndex < questionsForLevelThree.length){
        //         mainFun(questionsForLevelThree,2)
        //     }
        //     else{
        //         scoreFun(questionsForLevelThree)
        //     }
        // }
        // if(level === 4 ){
        //     if(quizIndex < questionsForLevelFour.length){
        //         mainFun(questionsForLevelFour,2)
        //     }
        //     else{
        //         scoreFun(questionsForLevelFour)
        //     }
        // }
        // if(level === 5 ){
        //     if(quizIndex < questionsForLevelFive.length){
        //         mainFun(questionsForLevelFive,2)
        //     }
        //     else{
        //         scoreFun(questionsForLevelFive)
        //     }
        // }
    // });




start();
